{"version":3,"file":"static/js/4717.66ad7169.chunk.js","mappings":"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","sources":["hooks/Toast.js","hooks/api.js","hooks/index.js","hooks/io.js"],"sourcesContent":["import { toast } from \"react-toastify\";\nexport default function Toast(type) {\n  if (type) {\n    return (msg) => {\n      toast[type](msg, {\n        position: \"bottom-center\",\n        autoClose: 2000,\n        hideProgressBar: true,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n    };\n  } else {\n    return (msg) => {\n      toast(msg, {\n        position: \"bottom-center\",\n        autoClose: 2000,\n        hideProgressBar: true,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n    };\n  }\n}\n","import axios from \"axios\";\nimport { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport Toast from \"./Toast\";\nexport function useServiceInfo() {\n  return useQuery(\n    \"service-info\",\n    async () => {\n      const data = await axios.get(\"/microservices\").then(({ data }) => data);\n      return data;\n    },\n    {\n      staleTime: 60000,\n    }\n  );\n}\nexport function useProvision({ onSuccess = () => {} }) {\n  const queryClient = useQueryClient();\n  const errorToast = Toast(\"error\");\n  return useMutation(\n    (data) =>\n      axios.get(\"/devices/provision\", {\n        params: {\n          id: data,\n        },\n      }),\n    {\n      onSuccess: () => {\n        onSuccess();\n        queryClient.invalidateQueries(\"devices-info\");\n      },\n      onError: (error, variables, context) => {\n        errorToast(error.response?.data);\n      },\n    }\n  );\n}\nexport function useProtcolConfig(name) {\n  return useQuery(\n    `protocol?${name}`,\n    async () => {\n      if (name) {\n        const data = await axios\n          .get(\"/protocol\", {\n            params: {\n              id: name,\n            },\n          })\n          .then(({ data }) => data);\n        return data;\n      }\n      return 0;\n    },\n    {\n      staleTime: 100,\n    }\n  );\n}\nexport function useTask() {\n  return useQuery(\n    \"task\",\n    async () => {\n      const data = await axios.get(\"/tasks\").then(({ data }) => data);\n      return data;\n    },\n    {\n      staleTime: 60000,\n    }\n  );\n}\nexport function useMutateProtocol({ onSuccess = () => {} }) {\n  const queryClient = useQueryClient();\n  const errorToast = Toast(\"error\");\n  return useMutation((data) => axios.post(\"/protocol\", data), {\n    onSuccess: () => {\n      onSuccess();\n      queryClient.invalidateQueries(\"service-info\");\n    },\n    onError: (error, variables, context) => {\n      errorToast(error.response?.data);\n    },\n  });\n}\nexport function useDeleteDevice({ onSuccess = () => {} }) {\n  const queryClient = useQueryClient();\n  const errorToast = Toast(\"error\");\n\n  return useMutation((data) => axios.delete(\"/devices\", { params: data }), {\n    onSuccess: () => {\n      onSuccess();\n      queryClient.invalidateQueries(\"devices-info\");\n    },\n    onError: (error, variables, context) => {\n      errorToast(error.response?.data);\n    },\n  });\n}\nexport function useMutateDevice({ onSuccess = () => {} }) {\n  const queryClient = useQueryClient();\n  const errorToast = Toast(\"error\");\n  return useMutation((data) => axios.post(\"/devices\", data), {\n    onSuccess: () => {\n      onSuccess();\n      queryClient.invalidateQueries(\"devices-info\");\n    },\n    onError: (error, variables, context) => {\n      errorToast(error.response?.data);\n    },\n  });\n}\nexport function useMutateTask({ onSuccess = () => {} }) {\n  const queryClient = useQueryClient();\n  const errorToast = Toast(\"error\");\n  return useMutation((data) => axios.post(\"/tasks\", data), {\n    onSuccess: () => {\n      onSuccess();\n      queryClient.invalidateQueries(\"task\");\n    },\n    onError: (error, variables, context) => {\n      errorToast(error.response?.data);\n    },\n  });\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport axios from \"axios\";\nimport Toast from \"./Toast\";\nexport function useDevicesInfo() {\n  return useQuery(\n    \"devices-info\",\n    async () => {\n      const data = await axios.get(\"/devices/info\").then(({ data }) => data);\n      return data;\n    },\n    {\n      staleTime: 60000,\n    }\n  );\n}\nexport function useModelsInfo() {\n  return useQuery(\n    \"models-info\",\n    async () => {\n      const data = await axios.get(\"/models/info\").then(({ data }) => data);\n      return data;\n    },\n    {\n      staleTime: 60000,\n    }\n  );\n}\nexport function useMutationModel({ onSuccess }) {\n  const queryClient = useQueryClient();\n  const errorToast = Toast(\"error\");\n  return useMutation((data) => axios.post(\"/models\", data), {\n    onSuccess: () => {\n      onSuccess();\n      queryClient.invalidateQueries(\"models-info\");\n    },\n    onError: (error, variables, context) => {\n      errorToast(error.response?.data);\n    },\n  });\n}\nexport function useToast(prop) {\n  return Toast(prop);\n}\nexport * from \"./api\";\nexport * from \"./io\";\n","import { useState, useEffect, useRef } from \"react\";\nimport io from \"socket.io-client\";\nexport function useSocket(topic) {\n  const IO = useRef(io());\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    console.log(\"\");\n    IO.current.on(\"connect\", () => {\n      IO.current.emit(topic, true);\n      IO.current.on(topic, (data) => {\n        setData(data);\n      });\n    });\n    return () => {};\n  }, [IO, topic]);\n  return data;\n}\n"],"names":["Toast","type","msg","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","useServiceInfo","useQuery","axios","then","data","staleTime","useProvision","onSuccess","queryClient","useQueryClient","errorToast","useMutation","params","id","invalidateQueries","onError","error","variables","context","response","useProtcolConfig","name","useTask","useMutateProtocol","useDeleteDevice","useMutateDevice","useMutateTask","useDevicesInfo","useModelsInfo","useMutationModel","useToast","prop","useSocket","topic","IO","useRef","io","useState","setData","useEffect","console","log","current","on","emit"],"sourceRoot":""}